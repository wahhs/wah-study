# OSI七层协议
![OSI](/OSI.jpg)
![OSI&TCP](/osi&tcp.jpg)

## 物理层
* **常见的设备**物理层各种粗,细同轴电缆,平衡电缆(电话线),T型接头和插头,接收器,发送器,wifi接收器,中继器等都属物理层的媒体和连接器。
* 示例：Rj45，802.3等

![](/cable.jpeg)

## 数据链路层
* 链路层是为网络层提供数据传送服务的,这种服务要依靠本层具备的功能来实现. 
* 链路连接的建立，拆除，分离。(MAC,vlan)
* **常见设备**网卡,二层交换机


## 网络层
* (功能)网络层的目的是实现两个端系统之间的数据透明传送，具体功能包括寻址和路由选择、连接的建立、保持和终止等。它提供的服务使传输层不需要了解网络中的数据传输和交换技术。如果您想用尽量少的词来记住网络层，那就是“路径选择、路由及逻辑寻址”。
* 在具有开放特性的网络中的数据终端设备,都要配置网络层的功能.现在市场上销售的网络硬设备主要有**网关和路由器**.
* ip地址解析MAC地址
* 示例：IP，IPX等

## 传输层
* 这层的功能包括是否选择差错恢复协议还是无差错恢复协议，及在同一主机上对不同应用的数据流的输入进行复用，还包括对收到的顺序不对的数据包的重新排序功能。示例：TCP，UDP，SPX。
* 第四层协议，实现端到端的数据传输. 常见TCP/ip.
* 传输连接服务：通常，对会话层要求的每个传输连接，传输层都要在网络层上建立相应的连接。
* 数据传输服务：强调提供面向连接的可靠服务（很晚OSI才开始制定无连接服务的有关标准），并提供流量控制、差错控制和序列控制，以实现两个终端系统间传输的报文无差错、无丢失、无重复、无乱序。
* 示例：TCP，UDP，SPX。
### TCP/IP 三次握手
TCP/IP
建立起一个TCP连接需要经过“三次握手”：

第一次握手：客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认；

第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态；

第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。

握 手过程中传送的包里不包含数据，三次握手完毕后，客户端与服务器才正式开始传送数据。理想状态下，TCP连接一旦建立，在通信双方中的任何一方主动关闭连 接之前，TCP 连接都将被一直保持下去。断开连接时服务器和客户端均可以主动发起断开TCP连接的请求，断开过程需要经过“四次握手”（过程就不细写 了，就是服务器和客户端交互，最终确定断开）

## 会话层
* 会话层,表示层,应用层构成开放系统的高3层，面对应用进程提供分布处理，对话管理,信息表示,恢复最后的差错等. 会话层同样要担负应用进程服务要求，而运输层不能完成的那部分工作,给运输层功能差距以弥补.主要的功能是对话管理，数据流同步和重新同步。要完成这些功能,需要由大量的服务单元功能组合,已经制定的功能单元已有几十种.。如果您想要用尽量少的词来记住这第5层，那就是“对话和交谈”。
* 示例：RPC，SQL等。

## 表示层
* 这一层的主要功能是定义数据格式及加密。例如，FTP允许你选择以二进制或ASCII格式传输。如果选择二进制，那么发送方和接收方不改变文件的内容。如果选择ASCII格式，发送方将把文本从发送方的字符集转换成标准的ASCII后发送数据。在接收方将标准的ASCII转换成接收方计算机的字符集。
* 示例：加密，ASCII等。

## 应用层
* 与其它计算机进行通讯的一个应用，它是对应应用程序的通信服务的。例如，一个没有通信功能的字处理程序就不能执行通信的代码，从事字处理工作的程序员也不关心OSI的第7层。但是，如果添加了一个传输文件的选项，那么字处理器的程序员就需要实现OSI的第7层。
* 示例：TELNET，HTTP，FTP，NFS，SMTP等。
